{"version":3,"sources":["components/App/App.jsx","components/App/index.js","const/Level.js","components/Store/Store.jsx","components/Store/index.js","components/Empty/index.js","components/Empty/Empty.jsx","index.js"],"names":["App","state","stores","storeIdList","distance","search","setState","load","navigator","geolocation","getCurrentPosition","pos","latitude","coords","longitude","extendedStores","storeCodeListForCheck","fetch","then","response","json","jsonObject","forEach","element","indexOf","code","toFixed","remain_level","getRemainLevel","remain_stat","push","sort","store1","store2","remainStat","this","className","Button","onClick","length","map","store","key","Component","plenty","message","style","some","few","empty","break","getStyleByLevel","Level","getLinkInfo","name","lat","lng","linkToMap","e","window","open","target","linkToStoreInfo","Store","Card","width","border","Header","Body","Text","addr","variant","size","Footer","Badge","pill","Empty","Alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.147e3830.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport {Store, Empty} from 'components'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {Button} from 'react-bootstrap'\n\nclass App extends Component {\n  state={stores: [], storeIdList: [], distance: 500}\n\n  componentDidMount() {\n    this.load()\n  }\n  \n  search = () => {\n    const {distance} = this.state\n    if (distance + 500 <= 5000) {\n      this.setState({distance: distance + 500})\n    }\n    this.load()\n  }\n\n  load = () => {\n    navigator.geolocation.getCurrentPosition((pos) => {\n      const latitude = pos.coords.latitude\n      const longitude = pos.coords.longitude\n\n      const {distance, stores, storeIdList} = this.state\n      const extendedStores = stores\n      const storeCodeListForCheck = storeIdList\n      fetch(`https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=${latitude}&lng=${longitude}&m=${distance}`)\n        .then(response => response.json())\n        .then(jsonObject => {\n          jsonObject.stores.forEach(element => {\n            if (storeCodeListForCheck.indexOf(element.code) === -1) {\n              element.distance = (distance / 1000).toFixed(1)\n              element.remain_level = this.getRemainLevel(element.remain_stat)\n              storeCodeListForCheck.push(element.code)\n              extendedStores.push(element)\n            }\n          })\n          extendedStores.sort((store1, store2) => {\n            return store1.remain_level <= store2.remain_level ? 1 : -1;  \n          })\n          this.setState({stores: extendedStores})\n        })\n    })\n  }\n\n  getRemainLevel = (remainStat) => {\n    switch (remainStat) {\n      case 'plenty':\n        return 5\n      case 'some':\n        return 4\n      case 'few':\n        return 3\n      case 'empty':\n        return 2\n      case 'break':\n        return 1\n      default:\n        return 0\n    }\n  }\n\n  render() {\n    const {stores, distance} = this.state\n    return (\n      <div className=\"app\">\n        <Button onClick={this.search}>더 넓게 찾아보기 [{(distance / 1000).toFixed(1)}km]</Button>\n        <div className=\"app-contents\">\n          {stores.length === 0 ? <Empty /> : stores.map((store, key) => {\n            return (<Store key={key} store={store} />)\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import App from './App'\r\nimport './App.css'\r\n\r\nexport default App","export default {\r\n  plenty: {message: '100개 이상', style: 'success'},\r\n  some: {message: '30 - 99', style: 'warning'},\r\n  few: {message: '2 - 29', style: 'danger'},\r\n  empty: {message: '0 - 1', style: 'dark'},\r\n  break: {message: '판매중지', style: 'secondary'}\r\n}","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {Card, Button, Badge} from 'react-bootstrap'\r\nimport Level from '../../const/Level'\r\n\r\nexport default function Store({store}) {\r\n  return (\r\n    <div className=\"store\">\r\n      <Card style={{ width: '20rem' }} border={getStyleByLevel(store.remain_stat)}>\r\n        <Card.Header>{store.name}</Card.Header>\r\n        <Card.Body>\r\n          <Card.Text>\r\n            {store.addr}\r\n          </Card.Text>\r\n          <Button variant={getStyleByLevel(store.remain_stat)} size=\"sm\" name={getLinkInfo(store)} onClick={linkToMap}>지도에서 보기</Button>&nbsp;\r\n          <Button variant={getStyleByLevel(store.remain_stat)} size=\"sm\" name={store.name} onClick={linkToStoreInfo}>정보검색</Button>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <Badge pill variant={getStyleByLevel(store.remain_stat)}>{store.distance}km</Badge>\r\n          <Badge pill variant={getStyleByLevel(store.remain_stat)}>\r\n            {Level[store.remain_stat] ? Level[store.remain_stat].message : '정보없음'}\r\n          </Badge>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction getStyleByLevel(remainStat) {\r\n  return Level[remainStat] ? Level[remainStat].style : 'secondary'\r\n}\r\n\r\nfunction getLinkInfo(store) {\r\n  return store.name + ',' + store.lat + ',' + store.lng \r\n}\r\n\r\nfunction linkToMap(e) {\r\n  window.open(`https://map.kakao.com/link/map/${e.target.name}`)\r\n}\r\n\r\nfunction linkToStoreInfo(e) {\r\n  window.open(`https://map.kakao.com/link/search/${e.target.name} 공적판매처`)\r\n}","import Store from './Store'\r\nimport './Store.css'\r\n\r\nexport default Store","import Empty from './Empty'\r\nimport './Empty.css'\r\n\r\nexport default Empty","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {Alert} from 'react-bootstrap'\r\n\r\nexport default function Empty() {\r\n  return (\r\n    <div className=\"empty\">\r\n      <Alert variant=\"warning\">근처에 구입가능 매장 정보가 없습니다.<br/>더 넓게 찾아보기로 추가 검색해보세요.</Alert>\r\n    </div>\r\n  )\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {App} from './components'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}