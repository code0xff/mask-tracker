{"version":3,"sources":["components/App/App.jsx","components/App/index.js","const/Level.js","components/Store/Store.jsx","components/Store/index.js","components/Empty/index.js","components/Empty/Empty.jsx","components/StandBy/index.js","components/StandBy/StandBy.jsx","index.js"],"names":["App","state","stores","storeIdList","distance","onSearching","search","setState","load","navigator","geolocation","getCurrentPosition","pos","latitude","coords","longitude","extendedStores","storeCodeListForCheck","fetch","then","response","json","jsonObject","forEach","element","indexOf","code","toFixed","remain_level","getRemainLevel","remain_stat","push","sort","store1","store2","remainStat","this","className","Button","onClick","length","map","store","key","Component","plenty","message","style","some","few","empty","break","getStyleByLevel","Level","getLinkInfo","name","lat","lng","linkToMap","e","window","open","target","linkToStoreInfo","Store","Card","width","border","Header","Body","Text","addr","variant","size","Footer","Badge","pill","Empty","Alert","StandBy","ReactDOM","render","document","getElementById"],"mappings":"6UAkFeA,E,2MA5EbC,MAAM,CAACC,OAAQ,GAAIC,YAAa,GAAIC,SAAU,IAAKC,aAAa,G,EAMhEC,OAAS,WAAO,IACPF,EAAY,EAAKH,MAAjBG,SACHA,EAAW,KAAO,KACpB,EAAKG,SAAS,CAACH,SAAUA,EAAW,MAEtC,EAAKI,Q,EAGPA,KAAO,WACL,EAAKD,SAAS,CAACF,aAAa,IAC5BI,UAAUC,YAAYC,oBAAmB,SAACC,GACxC,IAAMC,EAAWD,EAAIE,OAAOD,SACtBE,EAAYH,EAAIE,OAAOC,UAFmB,EAIR,EAAKd,MAAtCG,EAJyC,EAIzCA,SAAUF,EAJ+B,EAI/BA,OAAQC,EAJuB,EAIvBA,YACnBa,EAAiBd,EACjBe,EAAwBd,EAC9Be,MAAM,8EAAD,OAA+EL,EAA/E,gBAA+FE,EAA/F,cAA8GX,IAChHe,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJA,EAAWpB,OAAOqB,SAAQ,SAAAC,IAC6B,IAAjDP,EAAsBQ,QAAQD,EAAQE,QACxCF,EAAQpB,UAAYA,EAAW,KAAMuB,QAAQ,GAC7CH,EAAQI,aAAe,EAAKC,eAAeL,EAAQM,aACnDb,EAAsBc,KAAKP,EAAQE,MACnCV,EAAee,KAAKP,OAGxBR,EAAegB,MAAK,SAACC,EAAQC,GAC3B,OAAOD,EAAOL,cAAgBM,EAAON,aAAe,GAAK,KAE3D,EAAKrB,SAAS,CAACL,OAAQc,EAAgBX,aAAa,W,EAK5DwB,eAAiB,SAACM,GAChB,OAAQA,GACN,IAAK,SACH,OAAO,EACT,IAAK,OACH,OAAO,EACT,IAAK,MACH,OAAO,EACT,IAAK,QACH,OAAO,EACT,IAAK,QACH,OAAO,EACT,QACE,OAAO,I,mFApDXC,KAAK5B,S,+BAwDG,IAAD,EACiC4B,KAAKnC,MAAtCC,EADA,EACAA,OAAQE,EADR,EACQA,SAAUC,EADlB,EACkBA,YACzB,OACE,yBAAKgC,UAAU,OACb,kBAACC,EAAA,EAAD,CAAQC,QAASH,KAAK9B,QAAtB,kDAA2CF,EAAW,KAAMuB,QAAQ,GAApE,OACA,yBAAKU,UAAU,gBACZhC,EAAc,kBAAC,EAAD,MACK,IAAlBH,EAAOsC,OAAe,kBAAC,EAAD,MACtBtC,EAAOuC,KAAI,SAACC,EAAOC,GACjB,OAAQ,kBAAC,EAAD,CAAOA,IAAKA,EAAKD,MAAOA,a,GArE5BE,aCFH5C,G,MAAAA,G,gBCHA,GACb6C,OAAQ,CAACC,QAAS,yBAAWC,MAAO,WACpCC,KAAM,CAACF,QAAS,UAAWC,MAAO,WAClCE,IAAK,CAACH,QAAS,SAAUC,MAAO,UAChCG,MAAO,CAACJ,QAAS,QAASC,MAAO,QACjCI,MAAO,CAACL,QAAS,2BAAQC,MAAO,cCuBlC,SAASK,EAAgBjB,GACvB,OAAOkB,EAAMlB,GAAckB,EAAMlB,GAAYY,MAAQ,YAGvD,SAASO,EAAYZ,GACnB,OAAOA,EAAMa,KAAO,IAAMb,EAAMc,IAAM,IAAMd,EAAMe,IAGpD,SAASC,EAAUC,GACjBC,OAAOC,KAAP,yCAA8CF,EAAEG,OAAOP,OAGzD,SAASQ,EAAgBJ,GACvBC,OAAOC,KAAP,4CAAiDF,EAAEG,OAAOP,KAA1D,oC,UCtCaS,EDEA,YAAyB,IAATtB,EAAQ,EAARA,MAC7B,OACE,yBAAKL,UAAU,SACb,kBAAC4B,EAAA,EAAD,CAAMlB,MAAO,CAAEmB,MAAO,SAAWC,OAAQf,EAAgBV,EAAMZ,cAC7D,kBAACmC,EAAA,EAAKG,OAAN,KAAc1B,EAAMa,MACpB,kBAACU,EAAA,EAAKI,KAAN,KACE,kBAACJ,EAAA,EAAKK,KAAN,KACG5B,EAAM6B,MAET,kBAACjC,EAAA,EAAD,CAAQkC,QAASpB,EAAgBV,EAAMZ,aAAc2C,KAAK,KAAKlB,KAAMD,EAAYZ,GAAQH,QAASmB,GAAlG,yCAJF,OAKE,kBAACpB,EAAA,EAAD,CAAQkC,QAASpB,EAAgBV,EAAMZ,aAAc2C,KAAK,KAAKlB,KAAMb,EAAMa,KAAMhB,QAASwB,GAA1F,6BAEF,kBAACE,EAAA,EAAKS,OAAN,KACE,kBAACC,EAAA,EAAD,CAAOC,MAAI,EAACJ,QAASpB,EAAgBV,EAAMZ,cAAeY,EAAMtC,SAAhE,MADF,OAEE,kBAACuE,EAAA,EAAD,CAAOC,MAAI,EAACJ,QAASpB,EAAgBV,EAAMZ,cACxCuB,EAAMX,EAAMZ,aAAeuB,EAAMX,EAAMZ,aAAagB,QAAU,gC,kBEjB5D+B,ECCA,WACb,OACE,yBAAKxC,UAAU,SACb,kBAACyC,EAAA,EAAD,CAAON,QAAQ,WAAf,wGAA8C,6BAA9C,2G,UCJSO,ECCA,WACb,OACE,yBAAK1C,UAAU,YACb,kBAACyC,EAAA,EAAD,CAAON,QAAQ,WAAf,4GCHNQ,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.35089dc3.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport {Store, Empty, StandBy} from 'components'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {Button} from 'react-bootstrap'\n\nclass App extends Component {\n  state={stores: [], storeIdList: [], distance: 500, onSearching: false}\n\n  componentDidMount() {\n    this.load()\n  }\n  \n  search = () => {\n    const {distance} = this.state\n    if (distance + 500 <= 5000) {\n      this.setState({distance: distance + 500})\n    }\n    this.load()\n  }\n\n  load = () => {\n    this.setState({onSearching: true})\n    navigator.geolocation.getCurrentPosition((pos) => {\n      const latitude = pos.coords.latitude\n      const longitude = pos.coords.longitude\n\n      const {distance, stores, storeIdList} = this.state\n      const extendedStores = stores\n      const storeCodeListForCheck = storeIdList\n      fetch(`https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=${latitude}&lng=${longitude}&m=${distance}`)\n        .then(response => response.json())\n        .then(jsonObject => {\n          jsonObject.stores.forEach(element => {\n            if (storeCodeListForCheck.indexOf(element.code) === -1) {\n              element.distance = (distance / 1000).toFixed(1)\n              element.remain_level = this.getRemainLevel(element.remain_stat)\n              storeCodeListForCheck.push(element.code)\n              extendedStores.push(element)\n            }\n          })\n          extendedStores.sort((store1, store2) => {\n            return store1.remain_level <= store2.remain_level ? 1 : -1;  \n          })\n          this.setState({stores: extendedStores, onSearching: false})\n        })\n    })\n  }\n\n  getRemainLevel = (remainStat) => {\n    switch (remainStat) {\n      case 'plenty':\n        return 5\n      case 'some':\n        return 4\n      case 'few':\n        return 3\n      case 'empty':\n        return 2\n      case 'break':\n        return 1\n      default:\n        return 0\n    }\n  }\n\n  render() {\n    const {stores, distance, onSearching} = this.state\n    return (\n      <div className=\"app\">\n        <Button onClick={this.search}>더 넓게 찾아보기 [{(distance / 1000).toFixed(1)}km]</Button>\n        <div className=\"app-contents\">\n          {onSearching ? <StandBy /> : \n            stores.length === 0 ? <Empty /> : \n            stores.map((store, key) => {\n              return (<Store key={key} store={store} />)\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import App from './App'\r\nimport './App.css'\r\n\r\nexport default App","export default {\r\n  plenty: {message: '100개 이상', style: 'success'},\r\n  some: {message: '30 - 99', style: 'warning'},\r\n  few: {message: '2 - 29', style: 'danger'},\r\n  empty: {message: '0 - 1', style: 'dark'},\r\n  break: {message: '판매중지', style: 'secondary'}\r\n}","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {Card, Button, Badge} from 'react-bootstrap'\r\nimport Level from '../../const/Level'\r\n\r\nexport default function Store({store}) {\r\n  return (\r\n    <div className=\"store\">\r\n      <Card style={{ width: '20rem' }} border={getStyleByLevel(store.remain_stat)}>\r\n        <Card.Header>{store.name}</Card.Header>\r\n        <Card.Body>\r\n          <Card.Text>\r\n            {store.addr}\r\n          </Card.Text>\r\n          <Button variant={getStyleByLevel(store.remain_stat)} size=\"sm\" name={getLinkInfo(store)} onClick={linkToMap}>지도에서 보기</Button>&nbsp;\r\n          <Button variant={getStyleByLevel(store.remain_stat)} size=\"sm\" name={store.name} onClick={linkToStoreInfo}>정보검색</Button>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <Badge pill variant={getStyleByLevel(store.remain_stat)}>{store.distance}km</Badge>&nbsp;\r\n          <Badge pill variant={getStyleByLevel(store.remain_stat)}>\r\n            {Level[store.remain_stat] ? Level[store.remain_stat].message : '정보없음'}\r\n          </Badge>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction getStyleByLevel(remainStat) {\r\n  return Level[remainStat] ? Level[remainStat].style : 'secondary'\r\n}\r\n\r\nfunction getLinkInfo(store) {\r\n  return store.name + ',' + store.lat + ',' + store.lng \r\n}\r\n\r\nfunction linkToMap(e) {\r\n  window.open(`https://map.kakao.com/link/map/${e.target.name}`)\r\n}\r\n\r\nfunction linkToStoreInfo(e) {\r\n  window.open(`https://map.kakao.com/link/search/${e.target.name} 공적판매처`)\r\n}","import Store from './Store'\r\nimport './Store.css'\r\n\r\nexport default Store","import Empty from './Empty'\nimport './Empty.css'\n\nexport default Empty","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {Alert} from 'react-bootstrap'\n\nexport default function Empty() {\n  return (\n    <div className=\"empty\">\n      <Alert variant=\"warning\">근처에 구입가능 매장 정보가 없습니다.<br/>더 넓게 찾아보기로 추가 검색해보세요.</Alert>\n    </div>\n  )\n}","import StandBy from './StandBy'\r\nimport './StandBy.css'\r\n\r\nexport default StandBy","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {Alert} from 'react-bootstrap'\r\n\r\nexport default function StandBy() {\r\n  return (\r\n    <div className=\"stand-by\">\r\n      <Alert variant=\"success\">공적마스크 판매 약국을 검색중입니다...</Alert>\r\n    </div>\r\n  )\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {App} from './components'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}